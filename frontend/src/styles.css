/* Global theme */
:root{
  --bg:#0b0f14;
  --panel:#111827;
  --muted:#6b7280;
  --text:#e5e7eb;
  --primary:#6366f1;
  --primary-600:#5558f0;
  --danger:#ef4444;
  --ring:0 0 0 3px rgb(99 102 241 / .3);
  --radius:12px;
  --ghost-bg: rgba(255,255,255,.08);
}
/* Light theme overrides */
[data-theme="light"]{
  --bg:#f7f8fb;
  --panel:#ffffff;
  --muted:#6b7280;
  --text:#0f172a;
  --primary:#4f46e5;
  --primary-600:#4338ca;
  --danger:#dc2626;
  --ghost-bg: rgba(0,0,0,.06);
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;background:linear-gradient(180deg,var(--bg) 0%, color-mix(in oklab, var(--bg) 85%, #000 15%) 100%);color:var(--text)}

.container{max-width:1200px;margin:0 auto;padding:24px}

/* Header */
.header{position:sticky;top:0;z-index:20;background:color-mix(in oklab, var(--panel) 70%, transparent);backdrop-filter:blur(8px);border-bottom:1px solid rgba(0,0,0,.08);box-shadow:0 6px 24px rgba(2,6,23,.18)}
.header-inner{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:16px 24px}
.brand{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.3px}
.brand .dot{width:10px;height:10px;border-radius:50%;background:var(--primary);box-shadow:0 0 18px color-mix(in oklab, var(--primary) 70%, transparent)}
.nav{display:flex;gap:18px}
.nav{flex-wrap:wrap}
.nav a{color:var(--text);text-decoration:none;opacity:.9;white-space:nowrap;padding:8px 10px;border-radius:10px}
.nav a:hover{opacity:1;background:var(--ghost-bg)}
.userbar{display:flex;gap:12px;align-items:center}
.userbar .pill{background:rgba(255,255,255,.06);padding:6px 10px;border-radius:999px;font-size:.9rem}
.button{background:var(--primary);border:none;color:white;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer;transition:.2s}
.button:hover{background:var(--primary-600);box-shadow:var(--ring)}
.button.link{background:transparent;color:var(--text);padding:0}
.button.ghost{background:var(--ghost-bg); color:var(--text)}
.toggle{display:inline-flex;align-items:center;gap:8px;font-size:.9rem}

/* Responsive visibility helpers */
.desktop-only{display:flex}
.mobile-only{display:none}

/* Mobile topbar (Jumia-like) */
.mobile-topbar{display:none;align-items:center;justify-content:space-between;gap:10px;padding:2px 0}
.mobile-actions{display:flex;align-items:center;gap:12px}
.icon-btn{position:relative;display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:8px;background:var(--ghost-bg);color:var(--text);text-decoration:none}
.icon-btn:hover{background:color-mix(in oklab, var(--ghost-bg) 80%, #000 10%)}
.icon-btn .badge.sm{position:absolute;top:-2px;right:-2px;min-width:18px;height:18px;font-size:.7rem}
.hamburger{margin-right:6px}

/* Header badge */
.badge{display:inline-flex;align-items:center;justify-content:center;min-width:22px;height:22px;padding:0 8px;border-radius:999px;background:linear-gradient(180deg, var(--primary), var(--primary-600));color:white;font-weight:700;font-size:.8rem;box-shadow:0 6px 16px rgba(2,6,23,.35);}
.cart-link{display:inline-flex;align-items:center;gap:8px}

/* Search & filters */
.toolbar{display:flex;gap:12px;align-items:center;margin:18px 0}
.input{width:100%;background:color-mix(in oklab, var(--panel) 70%, #000 10%);border:1px solid rgba(0,0,0,.08);color:var(--text);padding:10px 12px;border-radius:10px;outline:none}
.input:focus{border-color:var(--primary);box-shadow:var(--ring)}
.select{background:color-mix(in oklab, var(--panel) 70%, #000 10%);border:1px solid rgba(0,0,0,.08);color:var(--text);padding:10px;border-radius:10px}

/* Enhanced search bar */
.searchbar{background:color-mix(in oklab, var(--panel) 70%, #000 5%);border:1px solid rgba(0,0,0,.08);border-radius:999px;padding:8px 10px}
.searchbar .search-icon{opacity:.8}
.searchbar .search-input{background:transparent;border:none;box-shadow:none;padding:8px 10px}
.searchbar .search-btn{border-radius:999px}

/* Grid & cards */
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:18px}
.card{background:linear-gradient(180deg, color-mix(in oklab, var(--panel) 96%, transparent) 0%, color-mix(in oklab, var(--panel) 85%, transparent) 100%);border:1px solid rgba(0,0,0,.08);border-radius:var(--radius);overflow:hidden;box-shadow:0 10px 30px rgba(2,6,23,.15)}
.card:hover{transform:translateY(-1px);box-shadow:0 16px 42px rgba(2,6,23,.5)}
.card .cover{width:100%;height:170px;object-fit:cover}
.card .body{padding:14px}
.card .title{font-size:1.05rem;font-weight:700;margin:6px 0}
.card .meta{color:var(--muted);font-size:.9rem}
.price{font-weight:800}

/* Category chips (mobile) */
.category-select{margin:8px 0}
.category-chips{display:none;gap:8px;overflow:auto;padding:4px 2px;margin:8px 0}
.category-chips .chip{flex:0 0 auto;border:1px solid rgba(0,0,0,.08);background:var(--ghost-bg);color:var(--text);padding:8px 12px;border-radius:999px;cursor:pointer}
.category-chips .chip.active{background:var(--primary);color:white;border-color:transparent}

/* Cart */
.cart-list{display:grid;grid-template-columns:repeat(auto-fill, minmax(320px, 1fr));gap:16px;margin-top:12px}
@media (min-width:1200px){.cart-list{grid-template-columns:repeat(3, minmax(0,1fr))}}
.cart-item{display:flex;align-items:center;gap:14px;background:linear-gradient(180deg, color-mix(in oklab, var(--panel) 96%, transparent) 0%, color-mix(in oklab, var(--panel) 85%, transparent) 100%);border:1px solid rgba(0,0,0,.08);border-radius:var(--radius);padding:12px}
.cart-item-thumb{width:88px;height:88px;object-fit:cover;border-radius:10px;flex:0 0 auto}
.cart-item-main{flex:1;min-width:0}
.cart-item-actions{display:flex;align-items:center;gap:10px}
.qty-input{width:56px}
.remove-btn{white-space:nowrap}
@media (max-width:720px){
  .cart-list{grid-template-columns:1fr}
  .cart-item-thumb{width:84px;height:84px}
  .toolbar{flex-direction:row;align-items:center}
  .searchbar{padding:2px 6px}
  .searchbar .search-icon{font-size:14px;opacity:.8}
  .searchbar .search-input{padding:5px 8px;font-size:.9rem}
  .searchbar .search-btn{padding:6px 10px;font-size:.85rem}
}

/* Product page */
.product{display:grid;grid-template-columns:1.2fr 1fr;gap:24px}
@media (max-width:900px){.product{grid-template-columns:1fr}}
.product .media{background:rgba(0,0,0,.02);border:1px solid rgba(0,0,0,.08);border-radius:var(--radius);overflow:hidden}
.product .media img{width:100%;display:block}
.product .panel{background:rgba(0,0,0,.02);border:1px solid rgba(0,0,0,.08);border-radius:var(--radius);padding:20px}

/* Forms */
.form{max-width:680px;background:rgba(0,0,0,.03);border:1px solid rgba(0,0,0,.08);padding:24px;border-radius:var(--radius)}
.form.wide{max-width:820px}
@media (max-width:720px){.form{max-width:100%}}
.form h2{margin:0 0 12px 0}
.form .row{display:flex;flex-direction:column;gap:6px;margin:8px 0}
.form label{color:var(--muted);font-size:.9rem}
.form .actions{margin-top:10px;display:flex;gap:10px;align-items:center}
.help{color:var(--muted)}
.error{color:#fca5a5}
.page-center{display:flex;min-height:calc(100vh - 120px);}
.page-center .form{margin:auto}

/* Pagination */
.pagination{display:flex;gap:10px;align-items:center;justify-content:center;margin:18px 0}
.pagination .button{padding:8px 12px}

/* Admin */
.admin .section{margin:16px 0;padding:16px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius)}
.admin .list-item{display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,.06)}
.admin .thumb{width:48px;height:48px;object-fit:cover;border-radius:8px}

/* Utility */
.mt-16{margin-top:16px}
.flex{display:flex}
.space-between{justify-content:space-between}
.center{justify-content:center;align-items:center}
.small{font-size:.9rem}
.muted{color:var(--muted)}
.link{color:var(--text);text-decoration:none}
.link:hover{text-decoration:underline}

/* Responsive helpers */
.grid-2-lg{grid-template-columns:1fr}
@media (min-width: 900px){
  .grid-2-lg{grid-template-columns:1fr 1fr}
}

.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
@media (min-width: 1024px){
  .products-grid{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))}
}
@media (max-width:720px){
  /* Exactly two items per row on phones */
  .products-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
}

.product-item{display:flex;gap:12px;align-items:flex-start}
@media (max-width: 640px){
  .product-item{flex-direction:column}
}

.mobile-full{width:100%}
@media (max-width:720px){
  .container{padding:16px}
  .toolbar{flex-direction:column;align-items:stretch}
  .header-inner{padding:6px 10px}
  .button{padding:9px 12px}
  /* Force exactly two items per row on phones */
  .grid{grid-template-columns:repeat(2,minmax(0,1fr))}
  .badge{min-width:20px;height:20px;font-size:.75rem}
  /* Show chips, hide select on mobile */
  .category-select{display:none}
  .category-chips{display:flex}
  /* Add space for bottom nav */
  .container{padding-bottom:84px}
}

/* Mobile bottom nav */
.mobile-nav{position:fixed;left:0;right:0;bottom:0;background:color-mix(in oklab, var(--panel) 85%, #000 5%);border-top:1px solid rgba(0,0,0,.12);display:none;gap:4px;justify-content:space-around;align-items:center;padding:8px 10px;z-index:30}
.mobile-nav .item{appearance:none;background:none;border:none;color:var(--text);text-decoration:none;display:flex;flex-direction:column;align-items:center;gap:4px;padding:6px 10px;border-radius:10px;position:relative}
.mobile-nav .item:hover{background:var(--ghost-bg)}
.mobile-nav .icon{font-size:18px}
.mobile-nav .label{font-size:.8rem}
.mobile-nav .badge.sm{position:absolute;top:0;right:6px;transform:translateY(-30%);min-width:18px;height:18px;font-size:.7rem}
@media (max-width:720px){
  .mobile-nav{display:flex}
  /* show mobile header pieces */
  .desktop-only{display:none}
  .mobile-only{display:block}
  .mobile-topbar{display:flex; justify-content:flex-start}
  /* tighter paddings and show search under header */
  .mobile-search .toolbar{margin:4px 0 6px}
  /* keep search pill horizontal on mobile */
  .searchbar{display:flex;flex-direction:row;align-items:center;padding:2px 6px}
  .searchbar .search-icon{font-size:14px;opacity:.8}
  .searchbar .search-input{padding:5px 8px;font-size:.9rem}
  .searchbar .search-btn{padding:6px 10px;font-size:.85rem}
  /* make sticky header compact */
  .header-inner{padding:6px 10px}
  .mobile-topbar .brand{gap:8px}
  .mobile-topbar .brand .link{font-size:16px}
  /* push action icons to the far right */
  .mobile-actions{margin-left:auto}
}

/* Mobile drawer & backdrop */
.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(2px);z-index:60}
.mobile-drawer{position:fixed;left:0;top:0;bottom:0;width:78%;max-width:320px;background:color-mix(in oklab, var(--panel) 92%, #000 8%);border-right:1px solid rgba(0,0,0,.12);box-shadow:12px 0 40px rgba(0,0,0,.3);z-index:70;display:flex;flex-direction:column;transform:translateX(0);animation:slideIn .18s ease-out}
.drawer-header{display:flex;align-items:center;justify-content:space-between;padding:14px;border-bottom:1px solid rgba(0,0,0,.12)}
.drawer-nav{display:flex;flex-direction:column;padding:10px}
.drawer-nav .link{padding:10px 8px;border-radius:10px}
.drawer-nav .link:hover{background:var(--ghost-bg);text-decoration:none}
.drawer-actions{margin-top:auto;padding:14px;border-top:1px solid rgba(0,0,0,.12);display:flex;flex-direction:column;gap:10px}
@keyframes slideIn{from{transform:translateX(-8px);opacity:.6} to{transform:translateX(0);opacity:1}}
